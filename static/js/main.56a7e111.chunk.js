(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{43:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var r,i,a,c,d=n(0),o=n.n(d),s=n(30),u=n.n(s),l=n(50),f=n(21),x=n(49),p=n(25),b=n(7),j=n(52),g=n(3),O=n(4),h=O.a.div(r||(r=Object(g.a)(["\n    max-width: 300px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    align-items: flex-start;\n"]))),m=O.a.input(i||(i=Object(g.a)(["\n    border-radius: 3px;\n    border: none;\n    box-shadow: #091e4240 0px 1px 0px 0px;\n    margin-bottom: 0.5rem;\n    padding: 0.5rem 1rem;\n    width: 100%;\n"]))),v=O.a.button(a||(a=Object(g.a)(["\n    background-color: #5aac44;\n    border-radius: 3px;\n    border: none;\n    box-shadow: none;\n    color: #fff;\n    padding: 6px 12px;\n    text-align: center;\n"]))),I=n(2),y=function(t){var e=t.onAdd,n=Object(d.useState)(""),r=Object(b.a)(n,2),i=r[0],a=r[1],c=function(){var t=Object(d.useRef)(null);return Object(d.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.focus()})),t}();return Object(I.jsxs)(h,{children:[Object(I.jsx)(m,{ref:c,value:i,onChange:function(t){return a(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e(i)}}),Object(I.jsx)(v,{onClick:function(){return e(i)},children:"Create"})]})},k=O.a.button(c||(c=Object(g.a)(["\n    background-color: #ffffff3d;\n    border-radius: 3px;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    max-width: 300px;\n    padding: 10px 12px;\n    text-align: left;\n    transition: background 85ms ease-in;\n    width: 100%;\n    &:hover {\n        background-color: #ffffff52;\n    }\n"])),(function(t){return t.dark?"#000":"#fff"})),w=function(t){var e=Object(d.useState)(!1),n=Object(b.a)(e,2),r=n[0],i=n[1],a=t.onAdd,c=t.toggleButtonText,o=t.dark;return Object(I.jsxs)(I.Fragment,{children:[r&&Object(I.jsx)(y,{onAdd:function(t){a(t),i(!r)}}),Object(I.jsx)(k,{dark:o,onClick:function(){return i(!r)},children:c})]})},A=n(51),C=n(35),D=n(26),T=function(t,e){return t.findIndex((function(t){return t.id===e}))},S=n(8);var E,L,M,_,P,R,B,G,K=function(t,e,n){var r=t[e];return function(t,e,n){return[].concat(Object(S.a)(t.slice(0,n)),[e],Object(S.a)(t.slice(n)))}(function(t,e){return[].concat(Object(S.a)(t.slice(0,e)),Object(S.a)(t.slice(e+1)))}(t,e),r,n)},N=function(t,e){switch(e.type){case"ADD_LIST":t.lists.push({id:Object(D.a)(),text:e.payload,tasks:[]});break;case"ADD_TASK":var n=e.payload,r=n.text,i=n.listId;console.log("draft",t);var a=T(t.lists,i);t.lists[a].tasks.push({id:Object(D.a)(),text:r});break;case"MOVE_LIST":var c=e.payload,d=c.draggedId,o=c.hoverId,s=T(t.lists,d),u=T(t.lists,o);t.lists=K(t.lists,s,u);break;case"SET_DRAGGED_ITEM":t.draggedItem=e.payload;break;case"MOVE_TASK":var l=e.payload,f=l.draggedItemId,x=l.hoveredItemId,p=l.sourceColumnId,b=l.targetColumnId,j=T(t.lists,p),g=T(t.lists,b),O=T(t.lists[j].tasks,f),h=x?T(t.lists[g].tasks,x):0,m=t.lists[j].tasks[O];t.lists[j].tasks.splice(O,1),t.lists[g].tasks.splice(h,0,m)}},U={draggedItem:null,lists:[{id:"0",text:"To Do",tasks:[{id:"c0",text:"Generate app scaffold"}]},{id:"1",text:"In Progress",tasks:[{id:"c2",text:"Learn Typescript"}]},{id:"2",text:"Done",tasks:[{id:"c3",text:"Begin to use static typing"}]}]},V=Object(d.createContext)({}),H=function(){return Object(d.useContext)(V)},J=function(t){var e=t.children,n=Object(C.a)(N,U),r=Object(b.a)(n,2),i=r[0],a=r[1],c=i.lists,d=i.draggedItem;return Object(I.jsx)(V.Provider,{value:{lists:c,draggedItem:d,getTasksByListId:function(t){var e;return(null===(e=c.find((function(e){return e.id===t})))||void 0===e?void 0:e.tasks)||[]},dispatch:a},children:e})},z=function(t){return{type:"SET_DRAGGED_ITEM",payload:t}},F=function(t,e,n,r){return{type:"MOVE_TASK",payload:{draggedItemId:t,hoveredItemId:e,sourceColumnId:n,targetColumnId:r}}},q=n(28),Q=function(t){var e=H().dispatch,n=Object(A.a)({type:t.type,item:function(){return e(z(t)),t},end:function(){return e(z(null))}}),r=Object(b.a)(n,3),i=r[1],a=r[2];return Object(d.useEffect)((function(){a(Object(q.a)(),{captureDraggingState:!0})}),[a]),{drag:i}},W=function(t,e,n,r){return Boolean(!r&&t&&t.type===e&&t.id===n)},X=O.a.div(E||(E=Object(g.a)(["\n    transform: ",";\n    opacity: ",";\n"])),(function(t){return t.isPreview?"rotate(5deg)":void 0}),(function(t){return t.isHidden?.3:1})),Y=Object(O.a)(X)(L||(L=Object(g.a)(["\n    background-color: #fff;\n    cursor: pointer;\n    margin-bottom: 0.5rem;\n    padding: 0.5rem 1rem;\n    max-width: 300px;\n    border-radius: 3px;\n    box-shadow: #091e4240 0px 1px 0px 0px;\n"]))),Z=function(t){var e=t.text,n=t.id,r=t.columnId,i=t.isPreview,a=H(),c=a.draggedItem,o=a.dispatch,s=Object(d.useRef)(null),u=Q({type:"CARD",id:n,text:e,columnId:r}).drag,l=Object(j.a)({accept:"CARD",hover:function(){c&&"CARD"===c.type&&c.id!==n&&o(F(c.id,n,c.columnId,r))}});return u((0,Object(b.a)(l,2)[1])(s)),Object(I.jsx)(Y,{isHidden:W(c,"CARD",n,i),isPreview:i,ref:s,children:e})},$=Object(O.a)(X)(M||(M=Object(g.a)(["\n    background-color: #ebecf0;\n    width: 300px;\n    min-height: 40px;\n    margin-right: 20px;\n    border-radius: 3px;\n    padding: 8px 8px;\n    flex-grow: 0;\n"]))),tt=O.a.div(_||(_=Object(g.a)(["\n    padding: 6px 16px 12px;\n    font-weight: bold;\n"]))),et=function(t){var e=t.id,n=t.text,r=t.isPreview,i=H(),a=i.draggedItem,c=i.getTasksByListId,o=i.dispatch,s=Object(d.useRef)(null),u=c(e),l=Q({type:"COLUMN",id:e,text:n}).drag,f=Object(j.a)({accept:["COLUMN","CARD"],hover:function(){if(a)if("COLUMN"===a.type){if(a.id===e)return;o({type:"MOVE_LIST",payload:{draggedId:a.id,hoverId:e}})}else{if(a.columnId===e)return;if(u.length)return;o(F(a.id,null,a.columnId,e)),o(z(Object(p.a)(Object(p.a)({},a),{},{columnId:e})))}}});return l((0,Object(b.a)(f,2)[1])(s)),Object(I.jsxs)($,{isPreview:r,ref:s,isHidden:W(a,"COLUMN",e),children:[Object(I.jsx)(tt,{children:n}),u.map((function(t){return Object(I.jsx)(Z,{id:t.id,text:t.text,columnId:e},t.id)})),Object(I.jsx)(w,{toggleButtonText:"toggleButtonText",onAdd:function(t){return o(function(t,e){return{type:"ADD_TASK",payload:{text:t,listId:e}}}(t,e))},dark:!0})]})},nt=O.a.div(P||(P=Object(g.a)([" \nheight: 100%;\nleft: 0;\npointer-events: none;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n"]))),rt=O.a.div.attrs((function(t){var e=t.position,n=e.x,r=e.y;return{style:{transform:"translate(".concat(n,"px, ").concat(r,"px)")}}}))(R||(R=Object(g.a)([""]))),it=function(){var t=H().draggedItem,e=Object(x.a)((function(t){return{currentOffset:t.getSourceClientOffset()}})).currentOffset;return t&&e&&Object(I.jsx)(nt,{children:Object(I.jsx)(rt,{position:e,children:"COLUMN"===t.type?Object(I.jsx)(et,{id:t.id,text:t.text,isPreview:!0}):Object(I.jsx)(Z,{columnId:t.columnId,isPreview:!0,id:t.id,text:t.text})})})},at=O.a.div(B||(B=Object(g.a)(["\n    display: flex;\n    align-items: flex-start;\n    flex-direction: row;\n    height: 100%;\n    padding: 20px;\n    width: 100%;\n"]))),ct=(O.a.div(G||(G=Object(g.a)(["\n    background-color: #fff;\n    cursor: pointer;\n    margin-bottom: 0.5rem;\n    padding: 0.5rem 1rem;\n    max-width: 300px;\n    border-radius: 3px;\n    box-shadow: #091e4240 0px 1px 0px 0px;\n"]))),function(){var t=H(),e=t.lists,n=t.dispatch;return Object(I.jsxs)(at,{children:[Object(I.jsx)(it,{}),e.map((function(t){return Object(I.jsx)(et,{text:t.text,id:t.id},t.id)})),Object(I.jsx)(w,{toggleButtonText:"+ Add another list",onAdd:function(t){return n(function(t){return{type:"ADD_LIST",payload:t}}(t))}})]})});n(43);u.a.render(Object(I.jsx)(o.a.StrictMode,{children:Object(I.jsx)(l.a,{backend:f.a,children:Object(I.jsx)(J,{children:Object(I.jsx)(ct,{})})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.56a7e111.chunk.js.map